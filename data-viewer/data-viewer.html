<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Twitter Collector - Captured Data</title>
    <link rel="stylesheet" href="data-viewer.css" />
  </head>
  <body>
    <div class="data-viewer">
      <!-- Header -->
      <header class="header">
        <div class="header-content">
          <div class="header-left">
            <img
              src="../icons/icon48.png"
              alt="Twitter Collector"
              class="logo"
            />
            <h1>Captured Tweets</h1>
            <div class="header-stats">
              <span id="total-displayed">0</span> tweets displayed
            </div>
          </div>
          <div class="header-actions">
            <button id="export-all-data" class="header-btn export">
              <svg viewBox="0 0 24 24" width="16" height="16">
                <path
                  fill="currentColor"
                  d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"
                />
              </svg>
              Export All
            </button>
            <button id="import-data" class="header-btn import">
              <svg viewBox="0 0 24 24" width="16" height="16">
                <path
                  fill="currentColor"
                  d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20M12,11L16,15H13V19H11V15H8L12,11Z"
                />
              </svg>
              Import
            </button>
            <button id="clear-all-data" class="header-btn delete">
              <svg viewBox="0 0 24 24" width="16" height="16">
                <path
                  fill="currentColor"
                  d="M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8,9H16V19H8V9M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z"
                />
              </svg>
              Clear All
            </button>
          </div>
        </div>
      </header>

      <!-- Controls -->
      <div class="controls-section">
        <div class="filters">
          <div class="filter-group">
            <label for="source-filter">Source:</label>
            <select id="source-filter">
              <option value="all">All Sources</option>
              <option value="bookmarks">Bookmarks</option>
              <option value="usertweets">User Profiles</option>
              <option value="search">Search Results</option>
            </select>
          </div>

          <div class="filter-group">
            <label for="search-input">Search:</label>
            <input
              type="text"
              id="search-input"
              placeholder="Search tweets, authors, or content..."
            />
          </div>

          <div class="filter-group">
            <label for="sort-select">Sort by:</label>
            <select id="sort-select">
              <option value="created_at_desc">Date (Newest First)</option>
              <option value="created_at_asc">Date (Oldest First)</option>
              <option value="like_count_desc">Most Liked</option>
              <option value="retweet_count_desc">Most Retweeted</option>
              <option value="author_name_asc">Author A-Z</option>
            </select>
          </div>

          <div class="filter-actions">
            <button id="clear-filters">Clear Filters</button>
            <button id="export-visible">Export Visible</button>
          </div>
        </div>
      </div>

      <!-- Loading State -->
      <div class="loading-state" id="loading-state">
        <div class="loading-spinner"></div>
        <p>Loading your captured tweets...</p>
      </div>

      <!-- Empty State -->
      <div class="empty-state" id="empty-state" style="display: none">
        <div class="empty-icon">üì≠</div>
        <h2>No tweets captured yet</h2>
        <p>
          Start capturing tweets from your bookmarks or user profiles to see
          them here.
        </p>
        <button id="go-to-twitter">Go to Twitter</button>
      </div>

      <!-- Tweets Container -->
      <div class="tweets-container" id="tweets-container" style="display: none">
        <!-- Tweet cards will be dynamically inserted here -->
      </div>

      <!-- Pagination -->
      <div class="pagination" id="pagination" style="display: none">
        <button id="load-more" class="load-more-btn">Load More Tweets</button>
        <div class="pagination-info">
          Showing <span id="showing-count">0</span> of
          <span id="total-count">0</span> tweets
        </div>
      </div>

      <!-- Footer -->
      <footer class="footer">
        <div class="footer-content">
          <p>&copy; 2024 Twitter Collector Extension</p>
        </div>
      </footer>
    </div>

    <!-- Tweet Card Template -->
    <template id="tweet-card-template">
      <div class="tweet-card">
        <div class="tweet-header">
          <div class="tweet-header-main">
            <div class="author-info">
              <a class="author-avatar-link" href="#" target="_blank">
                <img class="author-avatar" src="" alt="" loading="lazy" />
              </a>
              <div class="author-details">
                <div class="author-name-row">
                  <a class="author-name-link" href="#" target="_blank">
                    <span class="author-name"></span>
                  </a>
                  <svg
                    class="verified-badge"
                    style="display: none"
                    viewBox="0 0 24 24"
                    width="16"
                    height="16"
                  >
                    <path
                      fill="#1d9bf0"
                      d="M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s2.52 1.27 3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.46 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.26 4.8-5.23 1.47 1.36-6.2 6.77z"
                    />
                  </svg>
                  <span class="tweet-date"></span>
                  <span class="source-badge"></span>
                </div>
                <span class="author-handle"></span>
              </div>
            </div>
          </div>
          <div class="tweet-actions">
            <a
              class="action-btn view-original"
              href="#"
              target="_blank"
              title="View Original Tweet"
            >
              <svg viewBox="0 0 24 24" width="16" height="16">
                <path
                  fill="#1DA1F2"
                  d="M8.46 18a.75.75 0 0 1-.53-.22L4.22 14.07a.75.75 0 0 1 0-1.06L7.93 9.3a.75.75 0 1 1 1.06 1.06L6.06 13.5l2.93 2.93a.75.75 0 0 1-.53 1.28zm6.19 0a.75.75 0 0 1-.53-1.28L16.94 13.5l-2.93-2.93a.75.75 0 1 1 1.06-1.06l3.71 3.71a.75.75 0 0 1 0 1.06l-3.71 3.71a.75.75 0 0 1-.53.22z"
                />
              </svg>
            </a>
            <button class="action-btn copy-link" title="Copy Tweet Link">
              <svg viewBox="0 0 24 24" width="16" height="16">
                <path
                  fill="#10B981"
                  d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"
                />
              </svg>
            </button>
            <button class="action-btn delete-tweet" title="Delete Tweet">
              <svg viewBox="0 0 24 24" width="16" height="16">
                <path
                  fill="#EF4444"
                  d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"
                />
              </svg>
            </button>
          </div>
        </div>

        <div class="tweet-content">
          <div class="tweet-text"></div>
          <div class="tweet-media" style="display: none"></div>
          <div class="quoted-tweet" style="display: none"></div>
        </div>

        <div class="tweet-stats">
          <div class="stat-item">
            <span class="stat-icon">üí¨</span>
            <span class="stat-count replies">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-icon">üîÑ</span>
            <span class="stat-count retweets">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-icon">‚ù§Ô∏è</span>
            <span class="stat-count likes">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-icon">üìä</span>
            <span class="stat-count views">0</span>
          </div>
        </div>
      </div>
    </template>

    <script src="../js/utils.js"></script>
    <script src="data-viewer.js"></script>
  </body>
</html>
